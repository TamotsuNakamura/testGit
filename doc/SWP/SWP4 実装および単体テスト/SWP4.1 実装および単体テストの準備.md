# SWP4.1 実装および単体テストの準備

**ソフトウェア詳細設計で定義されたプログラムユニットの実装および単体テストの準備をする。**

## 4.1.1 実装の準備

### 入力

再利用するプログラムユニット

### 概要

再利用するプログラムや開発環境などを準備し、プログラムユニットの実装が実施可能な状態にする。

### 出力

（SU1002）ソフトウェア開発環境
<a id = "SU1002"></a>

### 実施内容

---

1. 再利用するプログラムユニットを準備する。
   * 開発済みのプログラムユニットを利用する場合は、該当するプログラムユニットを用意し、利用可能状態にあるか確認する。
  
1. 開発環境を準備する。
   * プログラムユニットを実装するための開発環境を準備する。

### 注意すべき事項

---

* 再利用するプログラムユニットについては以下の点を確認しておく。
  * バージョン
  * 品質（既知の不具合など）
  * 利用する際の制約事項

## 4.1.2 単体テストの準備

### 入力

[（SW305）](../SWP3%20ソフトウェア詳細設計/SWP3.1%20機能ユニット詳細設計書の作成.md)ソフトウェア詳細設計書
[（SU1002）](#SU1002)ソフトウェア開発環境
（SU601）不具合管理票（修正確認の場合）

### 概要

単体テスト仕様書を作成し、単体テストが実施可能な状態にする。

### 出力

（SW401）単体テスト仕様書
（SW402）単体テストデータ
（SW402）内部確認メモ（単体テスト仕様）

### 実施内容

---

**単体テストを実施するための下記1~4を準備する。**

1. 単体テスト項目を準備する。

* [ソフトウェア詳細設計書（SW305）](../SWP3%20ソフトウェア詳細設計/SWP3.1%20機能ユニット詳細設計書の作成.md)に定義された処理が、正しく実現されているか否かを確認するためのテスト項目を準備し、テスト仕様書としてまとめる。テスト項目として準備すべき項目としては、以下のようなもの がある。

   * 機能テスト
   * 条件網羅テスト/データ境界値テスト

1. テストデータを準備する。
   * 1で準備したテスト項目を実行するために必要となるテストデータ（具体的な入力データなど）を作成する。
1. スタブ/テストドライバ（疑似ソフトウェア）を作成する。
   * テスト対象の機能ユニットを動作させるため、必要に応じてスタブ/テストドライバを作成する。
1. テスト結果の判定基準や、テスト全体の評価基準や完了基準なども用意しておく。
1. 修正確認テスト項目を準備する（修正確認の場合）。
   * テストで不具合などが検出され、その部分を修正した場合、不具合が解消されたこと、また修正により別の不具合が発生していないことを確認するためのテスト項目を準備する。
   * 不具合の内容および修正内容などを考慮し、テスト範囲を決定しテスト項目を選択する

### 注意すべき事項

---

* 単体テスト仕様書を確認する。
  ここで確認すべき事項としては、以下のようなものがある。
  * テスト項目数の妥当性
  * テスト項目の網羅性（命令、条件、判定）
  * テスト項目の矛盾/重複
  * ハードウェア制御部、割り込みルーチンのテスト方法
  * 高速化が必要な部分のテスト方法
  * エラー処理
* テスト項目に与える入力値の考慮点
  * 正常データ
  * データ未設定（NULL値）
  * 境界値/仕様値を大きく超える値/条件
  * 最小値、最大値
* 修正確認テストの準備の考慮点
  * テストの実施範囲は、影響する部分をすべて網羅しているか。
  * テストは基本的に既に作成したテスト項目を再利用する。ただし、修正量が多い場合や、影響範囲が広い場合などは、新たなテスト項目を用意することも検討する（グローバル変数/共有メモリの使用範囲等に留意する）。
* 文書化での留意点
  * 変更履歴を添付し、変更箇所を明示する。
  * 作成文書に関しての責任所在を明示する。
  * 作成文書は構成管理および変更管理にて確実に管理する。